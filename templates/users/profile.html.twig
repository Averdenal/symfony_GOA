{% extends 'base.html.twig' %}


{% block body %}
    <div class="container mt-4 pb-4" id="user_Info_Unique">
        <div class="row">
            <div class="col-12 top_Block p-0">
                <figure class="mb-0">
                    <img src="{% if user.banner is null %}{{ asset('build/img/cover/1.jpg') }}{% else %}{{ asset(user.banner.url) }}{% endif %}" alt="Banner" class="banner">
                    <img src="{% if user.pictureProfil is null %}{{ asset('build/img/avatars/2.jpg') }}{% else %}{{ asset(user.pictureProfil.url) }}{% endif %}" alt="Avatar" class="picture_Profil">
                </figure>
                <div class="info_User p-4 bg-light d-flex align-items-center justify-content-around">
                    <div class="align-items-center d-flex align-items-center justify-content-around flex_1">
                        <div class="d-flex align-items-center flex-column col-3">
                            <p>35k</p>
                            <p class="cat_Info_User">Visites</p>
                        </div>
                        <div class="d-flex align-items-center flex-column col-3">
                            <p>350</p>
                            <p class="cat_Info_User">Posts</p>
                        </div>
                        <div class="d-flex align-items-center flex-column col-3">
                            <p>1k</p>
                            <p class="cat_Info_User">Friends</p>
                        </div>
                        <div class="d-flex align-items-center flex-column col-3">
                            <p>France</p>
                            <p class="cat_Info_User">Pays</p>
                        </div>
                    </div>
                    {% if user.firstname is null or user.lastname is null %}
                    <div class="d-flex justify-content-center flex_1">
                        <p class="text_Pseudo">{{ user.pseudo }}</p>
                    </div>
                    {% else %}
                    <div class="flex_1 d-flex align-items-center justify-content-center">

                        <div class="p-1">
                            <p class="name_User text-right">{{ user.firstname | capitalize  }}</p>
                        </div>
                        <div class="p-1">
                            <p class="name_User text-center">{{ user.lastname | upper }}</p>
                        </div>

                    </div>
                    {% endif %}
                    <div class="btn_Zone_Action">
                        {% if app.user != user %}
                            {% if yourFriend == 'ko' %}
                                <button id="add_Friend" class="btn btn-success" data-id="{{ user.id }}">
                                    <svg class="icon-add-friend">
                                        <use xlink:href="#svg-add-friend"></use>
                                    </svg>
                                    Add Friends
                                </button>
                            {% elseif yourFriend == 'aok' %}
                                <button class="btn btn-warning" disabled>
                                    <svg class="icon-add-friend">
                                        <use xlink:href="#svg-add-friend"></use>
                                    </svg>
                                    en Attente
                                </button>
                            {% elseif yourFriend == 'vok' %}
                                <button id="add_Friend" class="btn btn-warning" data-id="{{ user.id }}">
                                    <svg class="icon-add-friend">
                                        <use xlink:href="#svg-add-friend"></use>
                                    </svg>
                                    Demande
                                </button>
                            {% elseif yourFriend == 'ok' %}
                                <button id="delete_Friend" class="btn btn-danger" data-id="{{ user.id }}">
                                    <svg class="icon-remove-friend">
                                        <use xlink:href="#svg-remove-friend"></use>
                                    </svg>
                                    Me saoul
                                </button>
                                <button class="btn btn-primary">
                                    <svg class="icon-send-message">
                                        <use xlink:href="#svg-send-message"></use>
                                    </svg>
                                    Message
                                </button>
                                {% endif %}
                        {% endif %}
                    </div>
                    <div class="badge_User_profil d-flex justify-content-end align-items-center flex_1">
                        <img src="{{ asset('build/img/badge/admin-b.png') }}" alt="" class="badge_User_icon ml-2">
                        <img src="{{ asset('build/img/badge/admin-b.png') }}" alt="" class="badge_User_icon ml-2">
                        <img src="{{ asset('build/img/badge/admin-b.png') }}" alt="" class="badge_User_icon ml-2">
                        <img src="{{ asset('build/img/badge/admin-b.png') }}" alt="" class="badge_User_icon ml-2">
                    </div>
                </div>
            </div>
        </div>
        {% include'content/widgets/sub_menu.html.twig' %}
        <div class="row" id="section_News">
            <aside class="col-3 p-0">
                {% include 'content/widgets/widget-reseaux.html.twig' %}
                <div class="aside_Block w-100 mt-2 p-2">
                    <h3>Informations</h3>
                    <p>{{ user.description }}</p>
                </div>
                <div class="aside_Block w-100 mt-2 p-2">
                    <h3>Upcoming Events</h3>
                </div>
            </aside>
            <div class="col-6">
                {% if editComment is not defined %}
                    {% if yourFriend is not defined or yourFriend == 'ok'%}
                        {% include 'content/users/add_Post.html.twig' %}
                    {% endif %}
                    <!-- lists posts -->
                    {% for post in user.ProfilePost|reverse %}
                        {% include 'content/users/posts.html.twig' %}
                    {% endfor %}
                {% else %}
                    {% include 'content/users/posts.html.twig' %}
                {% endif %}
            </div>
            <aside class="col-3 p-0">
                <div class="aside_Block w-100 mt-2 p-2">
                    <h3>Photos</h3>
                </div>
                <div class="aside_Block w-100 mt-2 p-2">
                    <h3>Top Commentaire</h3>
                </div>
                <div class="aside_Block w-100 mt-2 p-2">
                    <h3>Friends ({{ friends|length }})</h3>
                        <div class="d-flex">
                            {% for friend in friends %}
                                {% if friend.status == "best friends" or  friend.status == "friends" %}
                                    <a href="{{ path('user.show',{'id':friend.user.id}) }}">
                                        <img class="image_Friends m-1" src="{% if friend.user.pictureProfil is null %}{{ asset('build/img/avatars/2.jpg')}}{% else %}{{ asset(friend.user.pictureProfil.url) }}{% endif %}" alt="">
                                    </a>
                                {% endif %}
                            {% endfor %}
                        </div>
                </div>
            </aside>
        </div>
    </div>
{% endblock %}
